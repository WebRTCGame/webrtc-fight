{"ts":1374986405987,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"function Segment (width, height, color) {\n  this.x = 0;\n  this.y = 0;\n  this.width = width;\n  this.height = height;\n  this.vx = 0;\n  this.vy = 0;\n  this.rotation = 0;\n  this.scaleX = 1;\n  this.scaleY = 1;\n  this.color = (color === undefined) ? \"#ffffff\" : utils.parseColor(color);\n  this.lineWidth = 1;\n}\n\nSegment.prototype.draw = function (context) {\n  var h = this.height,\n      d = this.width + h, //top-right diagonal\n      cr = h / 2;         //corner radius\n  context.save();\n  context.translate(this.x, this.y);\n  context.rotate(this.rotation);\n  context.scale(this.scaleX, this.scaleY);\n  context.lineWidth = this.lineWidth;\n  context.fillStyle = this.color;\n  context.beginPath();\n  context.moveTo(0, -cr);\n  context.lineTo(d-2*cr, -cr);\n  context.quadraticCurveTo(-cr+d, -cr, -cr+d, 0);\n  context.lineTo(-cr+d, h-2*cr);\n  context.quadraticCurveTo(-cr+d, -cr+h, d-2*cr, -cr+h);\n  context.lineTo(0, -cr+h);\n  context.quadraticCurveTo(-cr, -cr+h, -cr, h-2*cr);\n  context.lineTo(-cr, 0);\n  context.quadraticCurveTo(-cr, -cr, 0, -cr);\n  context.closePath();\n  context.fill();\n  if (this.lineWidth > 0) {\n    context.stroke();\n  }\n  //draw the 2 \"pins\"\n  context.beginPath();\n  context.arc(0, 0, 2, 0, (Math.PI * 2), true);\n  context.closePath();\n  context.stroke();\n\n  context.beginPath();\n  context.arc(this.width, 0, 2, 0, (Math.PI * 2), true);\n  context.closePath();\n  context.stroke();\n  \n  context.restore();\n};\n\nSegment.prototype.getPin = function () {\n  return {\n    x: this.x + Math.cos(this.rotation) * this.width,\n    y: this.y + Math.sin(this.rotation) * this.width\n  };\n};\n"]],"start1":0,"start2":0,"length1":0,"length2":1590}]],"length":1590}
